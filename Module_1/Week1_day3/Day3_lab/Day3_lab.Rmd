---
title: "Day 3 Lab"
output: html_notebook
---
```{r}
#import libraries
library(styler)
```

Glasgow weather forecast for 5 days
```{r}
temperature <- c(12, 15, 14, 14, 15)
chance_of_rain <- c(5, 90, 20, 50, 30)
cloud_cover <- c("cloudy", "cloudy", "cloudy", "partly cloudy", "clear" )
```
These are numerical, character & character vectors.
```{r}
days_of_week <- factor(c("Wednesday", "Thursday", "Friday", "Saturday", "Sunday"), 
                       levels = c("Wednesday", "Thursday", "Friday", "Saturday", "Sunday"),
                       ordered = TRUE)

names(temperature) <- days_of_week
names(chance_of_rain) <- days_of_week
names(cloud_cover) <- days_of_week
```
avg temperature
```{r}
avg_temp <- mean(temperature)
avg_temp
avg_rain <- mean(chance_of_rain)
avg_rain
```
Select only the temperatures that are higher than average.
```{r}
temperature[temperature > avg_temp]
```
Select only the the temperatures when the chance of rain is lower than or equal to the average.
```{r}
temperature[chance_of_rain <= avg_rain]
```
Select only the cloud covers from the weekend.
```{r}
cloud_cover[4:5]
```
#2.5
The vector below contains marks out of 10 in a spelling test:
```{r}
test_results <- c(6, 7, 9, 7, 9, 3, 9, 7, 3, 8, 10, 5, 5, 9, 7, 5, 9, 8, 9, 5)
```
How many marks do we have?
```{r}
length(test_results)
```
What was the average mark?
```{r}
mean(test_results)
```
What was the highest and lowest result?
```{r}
min(test_results)
max(test_results)
```
How many people scored each mark?
```{r}
table(test_results)
```
Express each mark as a percentage out of 100
```{r}
out_of_100 <- test_results * 10 
table(out_of_100)
```
How many people scored eight or higher?
```{r}
sum(test_results >= 8)
```
#3 Matrices
#3.1 Creating a matrix

Find a 14 day forecast and create a matrix of the forecasts for temperature, where each week is one row.

You will want to assign the matrix to a name. You should also give the matrix row names and column names.
```{r}
weather_matrtix <- matrix(c(17, 16, 17, 16, 15, 16, 17, 18, 18, 18, 19, 19, 18, 19), nrow=2, ncol=7)
rownames(weather_matrtix) <- c("week_1", "week_2")
colnames(weather_matrtix) <- c("Thu", "Fri", "Sat", "Sun", "Mon", "Tue", "Wed")
weather_matrtix
```
Find the average temperature each week.
```{r}
rowMeans(weather_matrtix)
```
Find the average temperature on each day of the week (i.e the average temperature on the two Mondays, the two Tuesdays etc.)
```{r}
colMeans(weather_matrtix)
```
#Select
The third day of the second week
```{r}
weather_matrtix[2, 1]
```
The whole second week
```{r}
weather_matrtix[2, ]
```
All Wednesdays
```{r}
weather_matrtix[, 7]
```
Convert your temperatures from Celsius to Fahrenheit by multiplying all elements of your matrix by 1.8, then adding 32.
```{r}
far_weather_matrix <- (weather_matrtix * 1.8) + 32
far_weather_matrix
```
Make the vector with the days of the week into an ordered factor, where the order correspond to the order of days in a week, starting Monday.
```{r}
days_of_week_factor <- factor(c("Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"),
                              levels = c("Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"),
                              ordered = TRUE)
fact_temps <- c(17, 16, 17, 16, 15, 16, 17)
names(fact_temps) <- days_of_week_factor
days_of_week_factor
```
Now select only the temperatures after Tuesday.
```{r}
fact_temps[3:7]
```
#5 Data Frames


#5.1 Creating data frames

Again, we will use our 5 day forecast. Create a data frame with the vectors you have already made for
The temperature
The chance of rain
The cloud cover
Day of the week (use to ordered factor version)
```{r}
five_day_forecast <- data.frame(
  day_of_week = days_of_week,
  temp = temperature, 
  chance_of_rain = chance_of_rain,
  cloud_cover = cloud_cover
)
five_day_forecast
```
After you have made the data frame, remove the original vectors by using rm. This will avoid naming conflicts when working with the data frame.
```{r}
rm(days_of_week, temperature, chance_of_rain, cloud_cover)
```
Select only the rows where the temperatures are higher than average.
```{r}
mean_temp <- mean(five_day_forecast$temp)
```
Select the rows when the chance of rain is lower than or equal to the average.
```{r}
subset(five_day_forecast, temp <= mean_temp)
```
Select only the rows that happen after Tuesday. As all  of them are after Tuesday, I sorded them in reverse instead.
```{r}
reverse_order <- rev(five_day_forecast$day_of_week)
five_day_forecast[reverse_order, ]
```
Sort the data frame so that the highest temperatures come first.
```{r}
temp_desc <- order(five_day_forecast$temp, decreasing = TRUE)
five_day_forecast[temp_desc, ]
```
#6 Lists

6.1 Creating lists

Create a nested named list with 5 elements, one for each day in your forecast.
Each list element should have the name of the day of the week. Inside each element should be another named list that tells you the temperature, chance of rain and cloud cover.
```{r}
weather_list <- list(
  "Wednesday" = list(12, 5, "cloudy"),
  "Thursday" = list(15, 90, "cloudy"),
  "Friday" = list(14, 20, "cloudy"),
  "Saturday" = list(14, 50, "partly cloudy"),
  "Sunday" = list(15, 30, "clear")
)
```
Using the list you’ve just made find:
The chance of rain on Sunday
```{r}
weather_list$Sunday[2]
```
The cloud cover on Friday
```{r}
weather_list$Friday[3]
```
The temperature on Thursday
```{r}
weather_list$Thursday[1]
```
You can calculate the the nth triangle number with the formula: Tn=n(n+1)/2
So the 5th triangle number is 5(5+1)2=15
Find the sum of the first 1000 triangle numbers.
```{r}
#This function calculates the nth triangle using formula: Tn = n( n+1 ) / 2
nth_triangle <- function(x){
  result <- x*(x+1)/2
  return(result)
}
```

```{r}
nth_triangle(1000)
```
If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.
Find the sum of all the multiples of 3 or 5 below 1000.
```{r}
multiples_of_3_5 <- function(x){
  natural_numbers <- c(1:x)
  result <- natural_numbers %% 3 == 0 | natural_numbers %% 5 == 0
  sum(natural_numbers[result])
}
multiples_of_3_5(999)
```
Here’s a secret message in a very simple code. The number 1 corresponds to the letter a, the number 2 corresponds to the letter b etc. The number 27 corresponds to a space.
Use R to decode this message:
23, 18, 9, 20, 9, 14, 7, 27, 18, 27, 3, 15, 4, 5, 27, 9, 19, 27, 6, 21, 14
```{r}
#my version
encoded <- c(23, 18, 9, 20, 9, 14, 7, 27, 18, 27, 3, 15, 4, 5, 27, 9, 19, 27, 6, 21, 14)
letters[encoded]

#better version
alphabet <- c(letters, "")
alphabet[encoded]

#even better
paste(alphabet[encoded], collapse = " ")
```





